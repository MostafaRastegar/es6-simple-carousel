{"version":3,"file":"index.es.js","sources":["../src/scripts/utils.js","../src/scripts/sliderArrows/partial.js","../src/scripts/sliderDots/partial.js","../src/scripts/sliderDots/index.js","../src/scripts/slideTrailer/partial.js","../src/scripts/slideTrailer/index.js","../src/scripts/sliderArrows/index.js","../src/scripts/dragEvent/partial.js","../src/scripts/dragEvent/index.js","../src/scripts/core.js"],"sourcesContent":["/* eslint-disable no-use-before-define */\r\nexport const addClassToElement = (params) => {\r\n  const { item, className } = params;\r\n  item.classList.add(className);\r\n  return item;\r\n};\r\n\r\nexport const removeClassFromElement = (params) => {\r\n  const { item, className } = params;\r\n  item.classList.remove(className);\r\n  return item;\r\n};\r\n\r\nexport const isFloat = (n) => Number(n) === n && n % 1 !== 0;\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const calcCurrentIndex = (params) => {\r\n  const {\r\n    sliderItems,\r\n    infinite,\r\n    perSlide,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    slidesLength,\r\n    freeScroll,\r\n    autoWidth,\r\n    responsiveItemCount,\r\n  } = params;\r\n\r\n  const getIndex =\r\n    getTranslate3d(sliderItems) /\r\n    vdomArrayConvertor(sliderItems.children)[0].clientWidth;\r\n\r\n  if (infinite) {\r\n    if (getIndex >= 0) return Math.round(getIndex);\r\n    if (getIndex < 0) {\r\n      return slidesLength + Math.round(getIndex);\r\n    }\r\n  }\r\n\r\n  if (Math.abs(getTranslate3d(sliderItems)) <= 1) {\r\n    return 0;\r\n  }\r\n\r\n  if (Math.abs(getTranslate3d(sliderItems)) > 0) {\r\n    const scroll = Math.abs(getTranslate3d(sliderItems));\r\n    if (!freeScroll && !autoWidth && !isFloat(responsiveItemCount)) {\r\n      return Math.round((scroll + sliderMainWidth) / slideSize - perSlide);\r\n    }\r\n    return Math.trunc((scroll + sliderMainWidth) / slideSize - perSlide);\r\n  }\r\n};\r\n\r\nexport const setActiveclassToCurrent = (params) => {\r\n  const { sliderItems, perSlide } = params;\r\n  const activeIndex = calcCurrentIndex(params);\r\n  const activeItems = [];\r\n  [...Array(perSlide).keys()].forEach((item) =>\r\n    activeItems.push(item + activeIndex)\r\n  );\r\n  vdomArrayConvertor(sliderItems.children).forEach((item, itemIndex) => {\r\n    const classItemParams = {\r\n      item,\r\n      className: \"active\",\r\n    };\r\n\r\n    if (activeItems.includes(itemIndex)) {\r\n      addClassToElement(classItemParams);\r\n    } else {\r\n      removeClassFromElement(classItemParams);\r\n    }\r\n  });\r\n};\r\n\r\nexport const sliderClientWidth = (slider) => slider.clientWidth;\r\n\r\nexport const truncResponsiveItemCount = (responsive) =>\r\n  Math.trunc(responsiveItemCount(responsive));\r\n\r\nexport const calcFinalItemPosition = (params) => {\r\n  const { autoWidth } = params;\r\n  if (autoWidth) {\r\n    return calcFinalWidthAutoWidth(params);\r\n  }\r\n  return calcFinalWithoutAutoWidth(params);\r\n};\r\n\r\nexport const calcFinalWidthAutoWidth = (params) => {\r\n  const { sliderMainWidth, sliderItems } = params;\r\n  return sliderMainWidth - calcAutoWidthAllSliderItems(sliderItems);\r\n};\r\n\r\nexport const calcFinalWithoutAutoWidth = (params) => {\r\n  const { slideSize, sliderMainWidth, perSlide, slidesLength, infinite } =\r\n    params;\r\n  const infiniteSlideLength = infinite\r\n    ? slidesLength + perSlide + 1\r\n    : slidesLength;\r\n  const box = perSlide * slideSize;\r\n  const cost = sliderMainWidth - box;\r\n  const finalResult = (infiniteSlideLength - perSlide) * slideSize - cost;\r\n  return -finalResult;\r\n};\r\n\r\nexport const calcFirstItemPosition = (params) => {\r\n  const { slideSize, perSlide, infinite, autoWidth } = params;\r\n  if (autoWidth) {\r\n    return 0;\r\n  }\r\n  const infiSwitchSlideSize = infinite ? slideSize : 0;\r\n  return -(infiSwitchSlideSize * (perSlide + 1));\r\n};\r\n\r\nexport const calcSliderGroupCount = (params) => {\r\n  const { slidesLength, responsive, autoWidth, sliderItems, sliderMainWidth } =\r\n    params;\r\n  if (autoWidth) {\r\n    return Math.ceil(\r\n      calcAutoWidthAllSliderItems(sliderItems) / sliderMainWidth\r\n    );\r\n  }\r\n  return Math.ceil(slidesLength / truncResponsiveItemCount(responsive));\r\n};\r\n\r\nexport const calcSliderChildWidth = (params) => {\r\n  const { responsiveItemCount, slider } = params;\r\n  return sliderClientWidth(slider) / responsiveItemCount;\r\n};\r\n\r\nexport const setSliderItemsChildWidth = (params) => {\r\n  const { responsive, slider, sliderItems, autoWidth } = params;\r\n\r\n  vdomArrayConvertor(sliderItems.children).forEach((child) => {\r\n    const newChild = child;\r\n    /* eslint-disable indent */\r\n    newChild.style.width = !autoWidth\r\n      ? `${calcSliderChildWidth({\r\n          responsiveItemCount: responsiveItemCount(responsive),\r\n          slider,\r\n        })}px`\r\n      : `auto`;\r\n    /* eslint-enable indent */\r\n  });\r\n};\r\n\r\nexport const calcAutoWidthAllSliderItems = (sliderItems) => {\r\n  let allChildWidth = 0;\r\n  vdomArrayConvertor(sliderItems.children).forEach((child) => {\r\n    allChildWidth += child.offsetWidth;\r\n  });\r\n  return allChildWidth;\r\n};\r\n\r\nexport const setSliderItemsPosition = (params) => {\r\n  const { indexItem, sliderItemWidth, sliderItems, rtl } = params;\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: indexItem * -sliderItemWidth,\r\n  });\r\n  sliderItems.style.transform = setTranslate3d(result);\r\n  return indexItem;\r\n};\r\n\r\nexport const directionSetter = (params) => {\r\n  const { rtl, input } = params;\r\n  if (rtl) {\r\n    return -input;\r\n  }\r\n  return input;\r\n};\r\n\r\nexport const setTranslate3d = (getValue) =>\r\n  `translate3d(${getValue}px,0px,0px)`;\r\n\r\nexport const getTranslate3d = (sliderItems) => {\r\n  const values = sliderItems.style.transform.match(\r\n    /translate3d\\((.*)px, (.*)px, (.*)px\\)/\r\n  );\r\n  if (!values[1] || !values[1].length) {\r\n    return 0;\r\n  }\r\n  return parseFloat(values[1]);\r\n};\r\n\r\nexport const arrGenerator = (arr, part) => {\r\n  const partTrunc = Math.trunc(part);\r\n  const round = Math.ceil(arr.length / partTrunc);\r\n  let counter = 0;\r\n  const newArry = [];\r\n  // eslint-disable-next-line no-plusplus\r\n  for (counter; round > counter; counter++) {\r\n    newArry[counter] = arr.slice(\r\n      counter * partTrunc,\r\n      (counter + 1) * partTrunc\r\n    );\r\n  }\r\n  return newArry;\r\n};\r\n\r\nexport const sorter = (a, b) => {\r\n  if (a < b) return -1; // any negative number works\r\n  if (a > b) return 1; // any positive number works\r\n  return 0; // equal values MUST yield zero\r\n};\r\n\r\nexport const responsiveItemCount = (getConfig) => {\r\n  const resp = Object.keys(getConfig).map((el) => parseInt(el, 10));\r\n  const newResp = resp\r\n    .sort(sorter)\r\n    .filter((item) => item <= document.body.clientWidth);\r\n  return getConfig[parseInt(newResp.pop(), 10)].items;\r\n};\r\n\r\nexport const switchInfiniteResponsiveCount = (itemCont, infinite) =>\r\n  infinite ? itemCont : 0;\r\n\r\nexport const prevNone = (slider) => {\r\n  const childFind = childFider({\r\n    wrapper: slider,\r\n    className: \".prev\",\r\n  });\r\n  childFind.style.display = \"none\";\r\n  return childFind;\r\n};\r\n\r\nexport const prevBlock = (slider) => {\r\n  const childFind = childFider({\r\n    wrapper: slider,\r\n    className: \".prev\",\r\n  });\r\n  childFind.style.display = \"flex\";\r\n  return childFind;\r\n};\r\n\r\nexport const nextNone = (slider) => {\r\n  const childFind = childFider({\r\n    wrapper: slider,\r\n    className: \".next\",\r\n  });\r\n  childFind.style.display = \"none\";\r\n  return childFind;\r\n};\r\nexport const nextBlock = (slider) => {\r\n  const childFind = childFider({\r\n    wrapper: slider,\r\n    className: \".next\",\r\n  });\r\n  childFind.style.display = \"flex\";\r\n  return childFind;\r\n};\r\n\r\nexport const transitionendWatcher = (params) => {\r\n  const {\r\n    responsive,\r\n    infinite,\r\n    slider,\r\n    rtl,\r\n    index,\r\n    sliderItems,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    setAllowShift,\r\n    dots,\r\n    slidesLength,\r\n    sliderItemWidth,\r\n    nav,\r\n    setIndex,\r\n    autoWidth,\r\n    freeScroll,\r\n    callBack,\r\n    beforeChange,\r\n  } = params;\r\n  beforeChange(index);\r\n\r\n  const perSlide = truncResponsiveItemCount(responsive);\r\n\r\n  const calcIndex = calcCurrentIndex({\r\n    infinite,\r\n    perSlide: truncResponsiveItemCount(responsive),\r\n    slidesLength,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    slider,\r\n    sliderItems,\r\n    freeScroll,\r\n    autoWidth,\r\n  });\r\n  setIndex(calcIndex);\r\n  if (\r\n    infinite &&\r\n    !autoWidth &&\r\n    calcIndex > perSlide + slidesLength &&\r\n    Math.abs(getTranslate3d(sliderItems)) >=\r\n      (perSlide + 1 + slidesLength) * sliderItemWidth\r\n  ) {\r\n    return setIndex(\r\n      setSliderItemsPosition({\r\n        indexItem: calcIndex - slidesLength,\r\n        sliderItemWidth,\r\n        sliderItems,\r\n        rtl,\r\n      })\r\n    );\r\n  }\r\n\r\n  // if page-index === 1 && clone === true\r\n  if (infinite && !autoWidth && calcIndex === perSlide + 1 + slidesLength) {\r\n    return setIndex(\r\n      setSliderItemsPosition({\r\n        indexItem: perSlide + 1,\r\n        sliderItemWidth,\r\n        sliderItems,\r\n        rtl,\r\n      })\r\n    );\r\n  }\r\n\r\n  // shift to end from start item\r\n  if (\r\n    infinite &&\r\n    !autoWidth &&\r\n    (Math.abs(getTranslate3d(sliderItems)) <= 1 ||\r\n      Math.abs(getTranslate3d(sliderItems)) === sliderItemWidth)\r\n  ) {\r\n    return setIndex(\r\n      setSliderItemsPosition({\r\n        indexItem: slidesLength + calcIndex,\r\n        sliderItemWidth,\r\n        sliderItems,\r\n        rtl,\r\n      })\r\n    );\r\n  }\r\n\r\n  if (!infinite && nav) {\r\n    const finalPos = {\r\n      slideSize,\r\n      sliderMainWidth,\r\n      perSlide,\r\n      slidesLength,\r\n      infinite,\r\n      autoWidth,\r\n      sliderItems,\r\n    };\r\n    const finalConst = Math.abs(Math.trunc(calcFinalItemPosition(finalPos)));\r\n    const firstConst = Math.abs(Math.trunc(calcFirstItemPosition(finalPos)));\r\n    const translate3dConst = Math.abs(Math.trunc(getTranslate3d(sliderItems)));\r\n    let showNext = true;\r\n    let showPrev = true;\r\n    if (finalConst <= translate3dConst + 50) {\r\n      showNext = false;\r\n    }\r\n    if (!autoWidth) {\r\n      if (index === 0) {\r\n        showPrev = false;\r\n      }\r\n    }\r\n    if (firstConst >= translate3dConst - 50) {\r\n      showPrev = false;\r\n    }\r\n    if (showNext) {\r\n      nextBlock(slider);\r\n    } else {\r\n      nextNone(slider);\r\n    }\r\n    if (showPrev) {\r\n      prevBlock(slider);\r\n    } else {\r\n      prevNone(slider);\r\n    }\r\n  }\r\n\r\n  // run for set active class\r\n  removeClassFromElement({\r\n    item: sliderItems,\r\n    className: \"shifting\",\r\n  });\r\n\r\n  if (!autoWidth) {\r\n    setActiveclassToCurrent({\r\n      index,\r\n      sliderItems,\r\n      perSlide,\r\n      infinite,\r\n      slideSize,\r\n      sliderMainWidth,\r\n      autoWidth,\r\n      freeScroll,\r\n    });\r\n  }\r\n  setAllowShift(true);\r\n\r\n  if (dots) {\r\n    dotActive(params);\r\n  }\r\n  callBack(calcIndex);\r\n  return calcIndex;\r\n};\r\n\r\nexport const dotActive = (params) => {\r\n  const { sliderItems, slider, autoWidth, sliderMainWidth } = params;\r\n  const dotsSelector = childFider({\r\n    wrapper: slider,\r\n    className: \".dots\",\r\n  });\r\n\r\n  const dotConvertor = vdomArrayConvertor(dotsSelector.children);\r\n  let currentDot = null;\r\n\r\n  if (autoWidth) {\r\n    const dotIndex = Math.ceil(\r\n      Math.abs(getTranslate3d(sliderItems)) / sliderMainWidth\r\n    );\r\n    currentDot = dotConvertor[dotIndex];\r\n  }\r\n\r\n  if (activeChecker(sliderItems) >= 0 && !autoWidth) {\r\n    currentDot = dotConvertor[activeChecker(sliderItems)];\r\n  }\r\n\r\n  if ((autoWidth || activeChecker(sliderItems) >= 0) && currentDot) {\r\n    dotConvertor.forEach((child) => {\r\n      const classItemParams = {\r\n        item: child,\r\n        className: \"active\",\r\n      };\r\n      removeClassFromElement(classItemParams);\r\n    });\r\n    const classItemParams = {\r\n      item: currentDot,\r\n      className: \"active\",\r\n    };\r\n    addClassToElement(classItemParams);\r\n  }\r\n};\r\n\r\nexport const elementCreator = (params) => {\r\n  const { tag, wrapper, className } = params;\r\n  removeAllChildren({ wrapper, className });\r\n  const node = document.createElement(tag);\r\n  node.className = className;\r\n  wrapper.appendChild(node);\r\n  return node;\r\n};\r\n\r\nexport const childFider = (params) => {\r\n  const { wrapper, className } = params;\r\n  return wrapper.querySelector(className);\r\n};\r\n\r\nexport const removeAllChildren = (params) => {\r\n  const { wrapper, className } = params;\r\n  const newClassName = `.${className.split(\" \").pop()}`;\r\n  const findElements = wrapper.querySelectorAll(newClassName);\r\n  if (findElements.length) {\r\n    findElements.forEach((child) => {\r\n      child.remove();\r\n    });\r\n  }\r\n  return findElements.length;\r\n};\r\n\r\nexport const activeChecker = (sliderItems) => {\r\n  const activeChild = [];\r\n  vdomArrayConvertor(sliderItems.children).forEach((child) => {\r\n    if (child.classList.contains(\"active\")) {\r\n      activeChild.push(child.dataset.page);\r\n    }\r\n  });\r\n  return parseInt(activeChild.sort().pop() - 1, 10);\r\n};\r\n\r\nexport const vdomArrayConvertor = (items) => {\r\n  const isArrayCheck = Array.isArray(items);\r\n  if (isArrayCheck) return items;\r\n  return Object.values(items);\r\n};\r\n\r\nexport const infiniteChecker = (params) => {\r\n  const { infinite, sliderLength, perSlide } = params;\r\n  if (infinite && sliderLength === perSlide) {\r\n    return false;\r\n  }\r\n  return infinite;\r\n};\r\n\r\nexport const dragChecker = (params) => {\r\n  const { drag, sliderLength, perSlide } = params;\r\n  if (drag === false || sliderLength <= perSlide) {\r\n    return false;\r\n  }\r\n  return drag;\r\n};\r\n","/* eslint-disable no-use-before-define */\r\nimport {\r\n  setTranslate3d,\r\n  calcFinalItemPosition,\r\n  nextNone,\r\n  prevBlock,\r\n  nextBlock,\r\n  prevNone,\r\n  calcFirstItemPosition,\r\n  directionSetter,\r\n  getTranslate3d,\r\n} from \"../utils\";\r\n\r\nexport const shiftSlideIsDir = (params) => {\r\n  const {\r\n    sliderItems,\r\n    index,\r\n    perSlide,\r\n    slideSize,\r\n    slidesLength,\r\n    responsiveItem,\r\n    infinite,\r\n    slider,\r\n    rtl,\r\n    autoWidth,\r\n  } = params;\r\n\r\n  const FinalItemPosition = calcFinalItemPosition(params);\r\n\r\n  if (autoWidth) {\r\n    return shiftSlideIsDirAutoWidth({\r\n      sliderItems,\r\n      index,\r\n      perSlide,\r\n      slideSize,\r\n      slidesLength,\r\n      responsiveItem,\r\n      infinite,\r\n      slider,\r\n      rtl,\r\n      autoWidth,\r\n      FinalItemPosition,\r\n    });\r\n  }\r\n\r\n  const newIndex = index + perSlide;\r\n  // when slidesLength <= perSlide arrow is disable\r\n  if (slidesLength <= perSlide) {\r\n    nextNone(slider);\r\n    prevBlock(slider);\r\n    return index;\r\n  }\r\n\r\n  if (\r\n    !infinite &&\r\n    newIndex + perSlide - 1 >= slidesLength - 1 &&\r\n    responsiveItem !== 1\r\n  ) {\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: FinalItemPosition,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n\r\n    nextNone(slider);\r\n    prevBlock(slider);\r\n\r\n    return newIndex;\r\n  }\r\n\r\n  // when perSlide === 1\r\n  if (!infinite && newIndex === slidesLength - 1) {\r\n    nextNone(slider);\r\n    prevBlock(slider);\r\n  }\r\n\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: newIndex * -slideSize,\r\n  });\r\n\r\n  sliderItems.style.transform = setTranslate3d(result);\r\n  return newIndex;\r\n};\r\n\r\nexport const shiftSlideNonDir = (params) => {\r\n  const {\r\n    sliderItems,\r\n    slideSize,\r\n    index,\r\n    perSlide,\r\n    infinite,\r\n    slider,\r\n    rtl,\r\n    autoWidth,\r\n    slidesLength,\r\n  } = params;\r\n  const firstItemPosition = calcFirstItemPosition(params);\r\n\r\n  if (autoWidth) {\r\n    return shiftSlideNonDirAutoWidth({\r\n      sliderItems,\r\n      slideSize,\r\n      index,\r\n      perSlide,\r\n      infinite,\r\n      slider,\r\n      rtl,\r\n      autoWidth,\r\n      slidesLength,\r\n      firstItemPosition,\r\n    });\r\n  }\r\n\r\n  const newIndex = index - perSlide;\r\n  const infinitperSlide = infinite ? perSlide : 0;\r\n\r\n  if (!infinite && index - infinitperSlide <= perSlide && index !== -1) {\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: firstItemPosition,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n    nextBlock(slider);\r\n    prevNone(slider);\r\n    return newIndex;\r\n  }\r\n\r\n  if (infinite && newIndex <= 0) {\r\n    const infiniteIndex = newIndex + slidesLength;\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: -infiniteIndex * slideSize,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n    return infiniteIndex;\r\n  }\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: -newIndex * slideSize,\r\n  });\r\n  sliderItems.style.transform = setTranslate3d(result);\r\n  return newIndex;\r\n};\r\n\r\nexport const shiftSlideNonDirAutoWidth = (params) => {\r\n  const {\r\n    rtl,\r\n    sliderMainWidth,\r\n    sliderItems,\r\n    infinite,\r\n    firstItemPosition,\r\n    slider,\r\n    index,\r\n  } = params;\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: Math.abs(getTranslate3d(sliderItems)) - sliderMainWidth,\r\n  });\r\n  if (\r\n    !infinite &&\r\n    ((!rtl && result <= firstItemPosition) ||\r\n      (rtl && result >= firstItemPosition))\r\n  ) {\r\n    nextBlock(slider);\r\n    prevNone(slider);\r\n    sliderItems.style.transform = setTranslate3d(firstItemPosition);\r\n    return index;\r\n  }\r\n  sliderItems.style.transform = setTranslate3d(-result);\r\n  return index;\r\n};\r\n\r\nexport const shiftSlideIsDirAutoWidth = (params) => {\r\n  const {\r\n    rtl,\r\n    sliderMainWidth,\r\n    sliderItems,\r\n    infinite,\r\n    FinalItemPosition,\r\n    slider,\r\n    index,\r\n  } = params;\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: sliderMainWidth + Math.abs(getTranslate3d(sliderItems)),\r\n  });\r\n\r\n  if (!infinite && Math.abs(result) >= Math.abs(FinalItemPosition)) {\r\n    sliderItems.style.transform = setTranslate3d(\r\n      directionSetter({\r\n        rtl,\r\n        input: FinalItemPosition,\r\n      })\r\n    );\r\n    nextNone(slider);\r\n    prevBlock(slider);\r\n    return index;\r\n  }\r\n\r\n  sliderItems.style.transform = setTranslate3d(-result);\r\n  return index;\r\n};\r\n","/* eslint-disable no-use-before-define */\r\n/* eslint-disable no-plusplus */\r\nimport {\r\n  calcSliderGroupCount,\r\n  getTranslate3d,\r\n  calcFinalItemPosition,\r\n  calcFirstItemPosition,\r\n  setTranslate3d,\r\n  nextNone,\r\n  prevBlock,\r\n  nextBlock,\r\n  prevNone,\r\n  addClassToElement,\r\n  directionSetter,\r\n  calcAutoWidthAllSliderItems,\r\n} from '../utils';\r\n\r\nexport const dotsItemsGenerator = params => {\r\n  const { dotsSelector } = params;\r\n  for (let i = 0; i < calcSliderGroupCount(params); i++) {\r\n    dotsSelector.innerHTML += `<li class=\"dots-item${\r\n      !i ? ' active' : ''\r\n    }\" data-dot-index=\"${i + 1}\">${i + 1}</li>`;\r\n  }\r\n  return dotsSelector;\r\n};\r\n\r\nexport const dotsItemsClick = params => {\r\n  const {\r\n    indexItem,\r\n    perSlide,\r\n    sliderItems,\r\n    infinite,\r\n    getSliderItems,\r\n    item,\r\n  } = params;\r\n\r\n  setSliderItemsPositionAfterDotClick(params);\r\n\r\n  const isActive = item.classList.contains('active');\r\n  let allowShift = true;\r\n  if (!isActive) {\r\n    const itemClassParams = {\r\n      item: getSliderItems(),\r\n      className: 'shifting',\r\n    };\r\n    addClassToElement(itemClassParams);\r\n    allowShift = false;\r\n  }\r\n  return {\r\n    index: infinite ? indexItem + perSlide + 1 : indexItem,\r\n    allowShift,\r\n    posInitial: getTranslate3d(sliderItems),\r\n  };\r\n};\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const setSliderItemsPositionAfterDotClick = params => {\r\n  const {\r\n    indexItem,\r\n    slideSize,\r\n    sliderItems,\r\n    sliderMainWidth,\r\n    perSlide,\r\n    slidesLength,\r\n    infinite,\r\n    slider,\r\n    nav,\r\n    rtl,\r\n    autoWidth,\r\n  } = params;\r\n  const finalItemPosition = calcFinalItemPosition(params);\r\n\r\n  // when slidesLength <= perSlide dots is disable\r\n  if (\r\n    slidesLength <= perSlide ||\r\n    (autoWidth && calcAutoWidthAllSliderItems(sliderItems) <= sliderMainWidth)\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  if (autoWidth) {\r\n    AfterDotClickAutoWidth(params);\r\n  }\r\n\r\n  if (!autoWidth) {\r\n    if (!infinite && indexItem + perSlide >= slidesLength) {\r\n      const result = directionSetter({\r\n        rtl,\r\n        input: finalItemPosition,\r\n      });\r\n      sliderItems.style.transform = setTranslate3d(result);\r\n      if (nav) {\r\n        nextNone(slider);\r\n        prevBlock(slider);\r\n      }\r\n      return true;\r\n    }\r\n\r\n    // after time move to watcher\r\n    if (nav) {\r\n      nextBlock(slider);\r\n      prevBlock(slider);\r\n    }\r\n\r\n    if (!infinite && nav && indexItem === 0) {\r\n      nextBlock(slider);\r\n      prevNone(slider);\r\n    }\r\n    const newItemIndex = infinite ? indexItem + perSlide + 1 : indexItem;\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: newItemIndex * -slideSize,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n  }\r\n};\r\n\r\nexport const AfterDotClickAutoWidth = params => {\r\n  const { sliderItems, sliderMainWidth, slider, nav, rtl, dotIndex } = params;\r\n  const firstItemPosition = calcFirstItemPosition(params);\r\n  const finalItemPosition = calcFinalItemPosition(params);\r\n  if (\r\n    dotIndex * sliderMainWidth >=\r\n    Math.abs(calcAutoWidthAllSliderItems(sliderItems))\r\n  ) {\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: finalItemPosition,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n    if (nav) {\r\n      nextNone(slider);\r\n      prevBlock(slider);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  if ((dotIndex - 1) * sliderMainWidth === firstItemPosition) {\r\n    nextBlock(slider);\r\n    prevNone(slider);\r\n  }\r\n  const result = directionSetter({\r\n    rtl,\r\n    input: (dotIndex - 1) * -sliderMainWidth,\r\n  });\r\n  sliderItems.style.transform = setTranslate3d(result);\r\n  return result;\r\n};\r\n","import {\r\n  truncResponsiveItemCount,\r\n  childFider,\r\n  vdomArrayConvertor,\r\n} from \"../utils\";\r\n\r\nimport { dotsItemsGenerator, dotsItemsClick } from \"./partial\";\r\n\r\nexport default class SliderDots {\r\n  constructor(params) {\r\n    const { core } = params;\r\n    this.setCore(core);\r\n    this.initialize();\r\n  }\r\n\r\n  setCore(core) {\r\n    this.core = core;\r\n  }\r\n\r\n  getCore() {\r\n    return this.core;\r\n  }\r\n\r\n  setDotsSelector(dotsSelector) {\r\n    this.dotsSelector = dotsSelector;\r\n  }\r\n\r\n  getDotsSelector() {\r\n    return this.dotsSelector;\r\n  }\r\n\r\n  initialize() {\r\n    const {\r\n      config: { slider, responsive, nav, rtl, autoWidth, paginationWrapper },\r\n      getInfinite,\r\n      getSlidesLength,\r\n      getSliderItemWidth,\r\n      getSliderMainWidth,\r\n      getSliderItems,\r\n      getSlider,\r\n      getSlideSize,\r\n      setIndex,\r\n      setAllowShift,\r\n      setPosInitial,\r\n    } = this.core;\r\n\r\n    const sliderItems = getSliderItems();\r\n\r\n    const dotsSelector = paginationWrapper\r\n      ? paginationWrapper.current.querySelector(\".slides\")\r\n      : childFider({\r\n          wrapper: slider,\r\n          className: \".dots\",\r\n        });\r\n    if (!paginationWrapper) {\r\n      // generate dots items\r\n      const dotsItemsParams = {\r\n        slidesLength: getSlidesLength(),\r\n        responsive,\r\n        dotsSelector,\r\n        sliderItems,\r\n        autoWidth,\r\n        sliderMainWidth: getSliderMainWidth(),\r\n      };\r\n      dotsItemsGenerator(dotsItemsParams);\r\n    }\r\n\r\n    // generate dots group per show slides\r\n\r\n    // dots item click for transition on active index\r\n    vdomArrayConvertor(dotsSelector.children).forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        const dotIndex = parseInt(item.getAttribute(\"data-dot-index\"), 10);\r\n        const indexItem = truncResponsiveItemCount(responsive) * (dotIndex - 1);\r\n        const dotsItemsClickParams = {\r\n          indexItem,\r\n          sliderItemWidth: getSliderItemWidth(),\r\n          sliderMainWidth: getSliderMainWidth(),\r\n          sliderItems,\r\n          slider: getSlider(),\r\n          slideSize: getSlideSize(),\r\n          slidesLength: getSlidesLength(),\r\n          perSlide: truncResponsiveItemCount(responsive),\r\n          infinite: getInfinite(),\r\n          dotIndex,\r\n          responsive,\r\n          getSliderItems,\r\n          nav,\r\n          rtl,\r\n          item,\r\n          autoWidth,\r\n        };\r\n        const { index, allowShift, posInitial } =\r\n          dotsItemsClick(dotsItemsClickParams);\r\n        setIndex(index);\r\n        setAllowShift(allowShift);\r\n        setPosInitial(posInitial);\r\n      });\r\n    });\r\n  }\r\n}\r\n","/* eslint-disable no-use-before-define */\r\nimport { truncResponsiveItemCount, vdomArrayConvertor } from '../utils';\r\n\r\nexport const setPageNumberOnChild = params => {\r\n  const { sliderItems, responsive } = params;\r\n  const perSlide = truncResponsiveItemCount(responsive);\r\n  const newArrChild = [];\r\n  vdomArrayConvertor(sliderItems.children).forEach((item, itemIndex) => {\r\n    item.setAttribute('data-page', Math.trunc(itemIndex / perSlide) + 1);\r\n    newArrChild.push(item.getAttribute('data-page'));\r\n  });\r\n  return newArrChild;\r\n};\r\n\r\nexport const addCloneClass = item => {\r\n  item.classList.add('clone');\r\n  return item;\r\n};\r\n\r\nexport const cloneNodeGenerator = params => {\r\n  const { perSlide, sliderItems } = params;\r\n  const sliderItemsChildren = vdomArrayConvertor(sliderItems.children);\r\n  const deepCloneSliderItemsChildren = [...sliderItemsChildren];\r\n  const cloneNodeParams = {\r\n    perSlide,\r\n    deepCloneSliderItemsChildren,\r\n    sliderItems,\r\n  };\r\n  cloneNodeAppendChild(cloneNodeParams);\r\n  cloneNodeInsertBefore(cloneNodeParams);\r\n};\r\n\r\nexport const cloneNodeAppendChild = params => {\r\n  const { perSlide, deepCloneSliderItemsChildren, sliderItems } = params;\r\n  const newArrChild = [];\r\n  deepCloneSliderItemsChildren.forEach((element, index) => {\r\n    if (index <= perSlide) {\r\n      const cln = element.cloneNode(true);\r\n      addCloneClass(cln);\r\n      newArrChild.push(index);\r\n      sliderItems.appendChild(cln);\r\n    }\r\n  });\r\n  return newArrChild;\r\n};\r\n\r\nexport const cloneNodeInsertBefore = params => {\r\n  const { perSlide, deepCloneSliderItemsChildren, sliderItems } = params;\r\n  const itemsChildrenLength =\r\n    deepCloneSliderItemsChildren.length - perSlide - 1;\r\n  deepCloneSliderItemsChildren.forEach((element, index) => {\r\n    if (index >= itemsChildrenLength) {\r\n      const cln = element.cloneNode(true);\r\n      addCloneClass(cln);\r\n      sliderItems.insertBefore(cln, deepCloneSliderItemsChildren[0]);\r\n    }\r\n  });\r\n};\r\n","import {\r\n  setSliderItemsPosition,\r\n  setSliderItemsChildWidth,\r\n  setActiveclassToCurrent,\r\n  addClassToElement,\r\n} from \"../utils\";\r\n\r\nimport { setPageNumberOnChild, cloneNodeGenerator } from \"./partial\";\r\n\r\nexport default class SliderTrailer {\r\n  constructor(params) {\r\n    const { core } = params;\r\n    this.setCore(core);\r\n    this.initialize();\r\n  }\r\n\r\n  setCore(core) {\r\n    this.core = core;\r\n  }\r\n\r\n  getCore() {\r\n    return this.core;\r\n  }\r\n\r\n  initialize() {\r\n    const {\r\n      config: { responsive, slider, rtl, autoWidth, freeScroll },\r\n      getInfinite,\r\n      getSliderItems,\r\n      getSlidesLength,\r\n      getSliderItemWidth,\r\n      getPerSlide,\r\n      getSlideSize,\r\n      getSliderMainWidth,\r\n      getIndex,\r\n      setIndex,\r\n    } = this.core;\r\n\r\n    const infinite = getInfinite();\r\n    const sliderItems = getSliderItems();\r\n    const slidesLength = getSlidesLength();\r\n    const slideSize = getSlideSize();\r\n    const sliderItemWidth = getSliderItemWidth();\r\n    const perSlide = getPerSlide();\r\n    const sliderMainWidth = getSliderMainWidth();\r\n    const index = getIndex();\r\n\r\n    // set width per slide\r\n    setSliderItemsChildWidth({\r\n      sliderItems,\r\n      slider,\r\n      responsive,\r\n      autoWidth,\r\n    });\r\n\r\n    // init slider position\r\n    setIndex(\r\n      setSliderItemsPosition({\r\n        indexItem: index,\r\n        sliderItemWidth,\r\n        sliderItems,\r\n        rtl,\r\n      })\r\n    );\r\n\r\n    if (!autoWidth) {\r\n      setPageNumberOnChild({ sliderItems, responsive });\r\n      // Clone group of slide from infinite carousel\r\n      if (infinite) {\r\n        const cloneNodeGeneratorParams = {\r\n          perSlide,\r\n          sliderItems,\r\n          wrapper: slider,\r\n        };\r\n        cloneNodeGenerator(cloneNodeGeneratorParams);\r\n      }\r\n      setActiveclassToCurrent({\r\n        sliderItems,\r\n        perSlide,\r\n        slideSize,\r\n        sliderMainWidth,\r\n        index: getIndex(),\r\n        infinite,\r\n        slidesLength,\r\n        autoWidth,\r\n        freeScroll,\r\n      });\r\n    }\r\n\r\n    // add loaded class to main slide after init\r\n    const classItemParams = {\r\n      item: slider,\r\n      className: \"loaded\",\r\n    };\r\n    addClassToElement(classItemParams);\r\n  }\r\n}\r\n","import {\r\n  responsiveItemCount,\r\n  truncResponsiveItemCount,\r\n  getTranslate3d,\r\n  childFider,\r\n  addClassToElement,\r\n  removeClassFromElement,\r\n} from '../utils';\r\n\r\nimport { shiftSlideIsDir, shiftSlideNonDir } from './partial';\r\n\r\nexport default class SliderArrows {\r\n  constructor(params) {\r\n    const { core } = params;\r\n    this.setCore(core);\r\n    this.initialize();\r\n  }\r\n\r\n  setCore(core) {\r\n    this.core = core;\r\n  }\r\n\r\n  getCore() {\r\n    return this.core;\r\n  }\r\n\r\n  initialize() {\r\n    const {\r\n      config: { slider },\r\n      getSliderItems,\r\n      setAllowShift,\r\n    } = this.core;\r\n    const prevSelector = childFider({\r\n      wrapper: slider,\r\n      className: '.prev',\r\n    });\r\n    const nextSelector = childFider({\r\n      wrapper: slider,\r\n      className: '.next',\r\n    });\r\n\r\n    // Click events\r\n    prevSelector.addEventListener('click', () => this.shiftSlide(-1));\r\n    nextSelector.addEventListener('click', () => this.shiftSlide(1));\r\n\r\n    // remove shifting class and allowSHift permission\r\n    const itemClassParams = {\r\n      item: getSliderItems(),\r\n      className: 'shifting',\r\n    };\r\n    removeClassFromElement(itemClassParams);\r\n    setAllowShift(true);\r\n  }\r\n\r\n  shiftSlide(dir, action) {\r\n    const {\r\n      config: { responsive, rtl, autoWidth },\r\n      getInfinite,\r\n      getSliderItems,\r\n      setPosInitial,\r\n      getSlideSize,\r\n      setIndex,\r\n      getIndex,\r\n      getSlidesLength,\r\n      getSliderMainWidth,\r\n      getSlider,\r\n      getAllowShift,\r\n      setAllowShift,\r\n    } = this.core;\r\n\r\n    const perSlide = truncResponsiveItemCount(responsive);\r\n    if (getAllowShift()) {\r\n      if (!action) {\r\n        setPosInitial(getTranslate3d(getSliderItems()));\r\n      }\r\n      const shiftSlideParams = {\r\n        sliderItems: getSliderItems(),\r\n        slideSize: getSlideSize(),\r\n        slidesLength: getSlidesLength(),\r\n        slider: getSlider(),\r\n        sliderMainWidth: getSliderMainWidth(),\r\n        index: getIndex(),\r\n        responsiveItem: responsiveItemCount(responsive),\r\n        perSlide,\r\n        dir,\r\n        infinite: getInfinite(),\r\n        rtl,\r\n        autoWidth,\r\n      };\r\n      if (dir === 1) {\r\n        setIndex(shiftSlideIsDir(shiftSlideParams));\r\n      } else if (dir === -1) {\r\n        setIndex(shiftSlideNonDir(shiftSlideParams));\r\n      }\r\n    }\r\n\r\n    const itemClassParams = {\r\n      item: getSliderItems(),\r\n      className: 'shifting',\r\n    };\r\n    addClassToElement(itemClassParams);\r\n    setAllowShift(false);\r\n  }\r\n}\r\n","import {\r\n  getTranslate3d,\r\n  calcFinalItemPosition,\r\n  setTranslate3d,\r\n  directionSetter,\r\n  responsiveItemCount,\r\n  calcSliderChildWidth,\r\n  truncResponsiveItemCount,\r\n  calcCurrentIndex,\r\n  prevBlock,\r\n  prevNone,\r\n  nextBlock,\r\n  nextNone,\r\n  addClassToElement,\r\n  removeClassFromElement,\r\n  calcAutoWidthAllSliderItems,\r\n} from \"../utils\";\r\n\r\nexport const directionTouchClientX = (params) => {\r\n  const { rtl, e, sliderMainWidth } = params;\r\n  if (rtl) return sliderMainWidth - e.touches[0].clientX;\r\n  return e.touches[0].clientX;\r\n};\r\n\r\nexport const caroueslTouchStart = (params) => directionTouchClientX(params);\r\nexport const dragActionTouchmovePosX2 = (params) => {\r\n  const { e, posX1, rtl, sliderMainWidth } = params;\r\n  return posX1 - directionTouchClientX({ rtl, e, sliderMainWidth });\r\n};\r\n\r\nexport const dragActionTouchmovePosX1 = (params) =>\r\n  directionTouchClientX(params);\r\n\r\nexport const directionClientX = (params) => {\r\n  const { rtl, e, sliderMainWidth } = params;\r\n  if (rtl) return sliderMainWidth - e.clientX;\r\n  return e.clientX;\r\n};\r\n\r\nexport const caroueslDragStart = (params) => {\r\n  const { e, dragEndCall, dragActionCall, sliderMainWidth, rtl } = params;\r\n  document.onmouseup = dragEndCall;\r\n  document.onmousemove = dragActionCall;\r\n  return directionClientX({ rtl, e, sliderMainWidth });\r\n};\r\n\r\nexport const dragActionMousemove = (params) => {\r\n  const { posX1, e, rtl, sliderMainWidth } = params;\r\n  return posX1 - directionClientX({ rtl, e, sliderMainWidth });\r\n};\r\nexport const dragActionMousemovePosX1 = ({ rtl, e, sliderMainWidth }) =>\r\n  directionClientX({ rtl, e, sliderMainWidth });\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const dragActionCalcPosition = (params) => {\r\n  const {\r\n    sliderItems,\r\n    posX2,\r\n    rtl,\r\n    slidesLength,\r\n    sliderItemWidth,\r\n    perSlide,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    infinite,\r\n    threshold,\r\n    autoWidth,\r\n  } = params;\r\n\r\n  const posX2New = () => {\r\n    if (rtl) return -posX2;\r\n    return posX2;\r\n  };\r\n  const thresholdNew = () => {\r\n    if (rtl) return -threshold;\r\n    return threshold;\r\n  };\r\n  const sliderItemWidthNew = () => {\r\n    if (rtl) return sliderItemWidth;\r\n    return -sliderItemWidth;\r\n  };\r\n  const finalItemPosition = directionSetter({\r\n    rtl,\r\n    input: calcFinalItemPosition({\r\n      slideSize,\r\n      slidesLength,\r\n      sliderMainWidth,\r\n      perSlide,\r\n      infinite,\r\n      autoWidth,\r\n      sliderItems,\r\n    }),\r\n  });\r\n\r\n  // when slidesLength <= perSlide dragEvent is disable\r\n  if (slidesLength <= perSlide) {\r\n    return false;\r\n  }\r\n\r\n  if (!infinite && !rtl) {\r\n    // stop drag when firstItem go to lastItem on drag\r\n    const firstTolastDrag =\r\n      getTranslate3d(sliderItems) - posX2New() >\r\n      sliderItemWidthNew() * perSlide + thresholdNew();\r\n    // stop drag when lastItem go to fistItem on drag\r\n    const lastToFirstDrag =\r\n      getTranslate3d(sliderItems) - posX2New() <=\r\n      finalItemPosition - thresholdNew();\r\n    if (firstTolastDrag || lastToFirstDrag) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (infinite && !rtl) {\r\n    // stop drag when firstItem go to lastItem on drag\r\n    const firstTolastDrag = getTranslate3d(sliderItems) - posX2New() > 0;\r\n    // stop drag when lastItem go to fistItem on drag\r\n    const lastToFirstDrag =\r\n      getTranslate3d(sliderItems) - posX2New() + 5 <\r\n      sliderItemWidthNew() * (slidesLength + perSlide + 1);\r\n\r\n    if (firstTolastDrag || lastToFirstDrag) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (!infinite && rtl) {\r\n    // stop drag when firstItem go to lastItem on drag\r\n    const firstTolastDrag =\r\n      getTranslate3d(sliderItems) - posX2New() <\r\n      sliderItemWidthNew() * perSlide + thresholdNew();\r\n    // stop drag when lastItem go to fistItem on drag\r\n    const lastToFirstDrag =\r\n      getTranslate3d(sliderItems) - posX2New() >=\r\n      finalItemPosition - thresholdNew();\r\n\r\n    if (firstTolastDrag || lastToFirstDrag) {\r\n      return false;\r\n    }\r\n  }\r\n  if (infinite && rtl) {\r\n    // stop drag when firstItem go to lastItem on drag\r\n    const firstTolastDrag = getTranslate3d(sliderItems) - posX2New() < 0;\r\n    // stop drag when lastItem go to fistItem on drag\r\n    const lastToFirstDrag =\r\n      getTranslate3d(sliderItems) - posX2New() - 5 >\r\n      sliderItemWidthNew() * (slidesLength + perSlide + 1);\r\n    if (firstTolastDrag || lastToFirstDrag) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const result = () => getTranslate3d(sliderItems) - posX2New();\r\n  sliderItems.style.transform = setTranslate3d(result());\r\n};\r\n\r\nexport const mouseEventNull = () => {\r\n  document.onmouseup = null;\r\n  document.onmousemove = null;\r\n};\r\n\r\nexport const dragStart = (params) => {\r\n  let { e } = params;\r\n  const {\r\n    sliderItems,\r\n    dragEndCall,\r\n    dragActionCall,\r\n    setPosInitial,\r\n    setPosX1,\r\n    sliderMainWidth,\r\n    rtl,\r\n  } = params;\r\n\r\n  e = e || window.event;\r\n  const posInitial = getTranslate3d(sliderItems);\r\n  if (e.type === \"touchstart\") {\r\n    setPosInitial(posInitial);\r\n    setPosX1(\r\n      caroueslTouchStart({\r\n        e,\r\n        rtl,\r\n        sliderMainWidth,\r\n      })\r\n    );\r\n  } else {\r\n    e.preventDefault();\r\n    const dragActionParams = {\r\n      e,\r\n      rtl,\r\n      dragEndCall,\r\n      dragActionCall,\r\n      sliderMainWidth,\r\n    };\r\n    setPosInitial(posInitial);\r\n    setPosX1(caroueslDragStart(dragActionParams));\r\n  }\r\n};\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const dragAction = (params) => {\r\n  let { e } = params;\r\n  const {\r\n    getPosX1,\r\n    setPosX1,\r\n    setPosX2,\r\n    rtl,\r\n    getSliderItems,\r\n    threshold,\r\n    getPosX2,\r\n    getSlidesLength,\r\n    getPerSlide,\r\n    responsive,\r\n    getSlider,\r\n    infinite,\r\n    getSlideSize,\r\n    getSliderMainWidth,\r\n    autoWidth,\r\n  } = params;\r\n  const sliderMainWidth = getSliderMainWidth();\r\n  e = e || window.event;\r\n  const clientXParams = { e, rtl, sliderMainWidth };\r\n  const perSlide = truncResponsiveItemCount(responsive);\r\n\r\n  // when drag false or slidesLength <= perSlide dragEvent is disable\r\n  if (getSlidesLength() <= perSlide) {\r\n    return false;\r\n  }\r\n\r\n  if (autoWidth) {\r\n    if (calcAutoWidthAllSliderItems(getSliderItems()) <= sliderMainWidth) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const startAvoidClicks = (Posx) => {\r\n    if (Math.abs(Posx) > 2) {\r\n      addClassToElement({\r\n        item: getSliderItems(),\r\n        className: \"avoid-clicks\",\r\n      });\r\n    }\r\n    return Posx;\r\n  };\r\n\r\n  if (e.type === \"touchmove\") {\r\n    const dragActionTouchmovePosX2Params = {\r\n      posX1: getPosX1(),\r\n      e,\r\n      rtl,\r\n      sliderMainWidth,\r\n    };\r\n    setPosX2(dragActionTouchmovePosX2(dragActionTouchmovePosX2Params));\r\n    setPosX1(dragActionTouchmovePosX1(clientXParams));\r\n    startAvoidClicks(dragActionTouchmovePosX2(dragActionTouchmovePosX2Params));\r\n  } else {\r\n    const dragActionMousemoveParams = {\r\n      posX1: getPosX1(),\r\n      e,\r\n      rtl,\r\n      sliderMainWidth,\r\n    };\r\n    setPosX2(dragActionMousemove(dragActionMousemoveParams));\r\n    setPosX1(dragActionMousemovePosX1(clientXParams));\r\n    startAvoidClicks(dragActionMousemove(dragActionMousemoveParams));\r\n  }\r\n\r\n  const dragActionCalcPositionParams = {\r\n    sliderItems: getSliderItems(),\r\n    posX2: getPosX2(),\r\n    slidesLength: getSlidesLength(),\r\n    perSlide: getPerSlide(),\r\n    sliderItemWidth: calcSliderChildWidth({\r\n      responsiveItemCount: responsiveItemCount(responsive),\r\n      slider: getSlider(),\r\n    }),\r\n    slideSize: getSlideSize(),\r\n    sliderMainWidth,\r\n    infinite,\r\n    threshold,\r\n    rtl,\r\n    autoWidth,\r\n  };\r\n  dragActionCalcPosition(dragActionCalcPositionParams);\r\n};\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const dragEnd = (params) => {\r\n  const {\r\n    sliderItems,\r\n    threshold,\r\n    slidesLength,\r\n    responsive,\r\n    infinite,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    sliderItemWidth,\r\n    setIndex,\r\n    transitionendWatcherCall,\r\n    slider,\r\n    setPosFinal,\r\n    getPosFinal,\r\n    nav,\r\n    rtl,\r\n    autoWidth,\r\n    freeScroll,\r\n    index,\r\n    startTrans,\r\n  } = params;\r\n\r\n  removeClassFromElement({\r\n    item: sliderItems,\r\n    className: \"avoid-clicks\",\r\n  });\r\n\r\n  const perSlide = truncResponsiveItemCount(responsive);\r\n\r\n  // when drag false or slidesLength <= perSlide dragEvent is disable\r\n  if (slidesLength <= perSlide) {\r\n    mouseEventNull();\r\n    return false;\r\n  }\r\n\r\n  if (autoWidth) {\r\n    if (calcAutoWidthAllSliderItems(sliderItems) <= sliderMainWidth) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const thresholdNew = () => {\r\n    if (rtl) return -threshold;\r\n    return threshold;\r\n  };\r\n\r\n  const finalItemPosition = directionSetter({\r\n    rtl,\r\n    input: calcFinalItemPosition({\r\n      slideSize,\r\n      slidesLength,\r\n      sliderMainWidth,\r\n      perSlide,\r\n      infinite,\r\n      autoWidth,\r\n      sliderItems,\r\n    }),\r\n  });\r\n  setPosFinal(getTranslate3d(sliderItems));\r\n\r\n  const calcIndex = calcCurrentIndex({\r\n    sliderItems,\r\n    infinite,\r\n    perSlide,\r\n    slideSize,\r\n    sliderMainWidth,\r\n    slidesLength,\r\n    freeScroll,\r\n    autoWidth,\r\n    index,\r\n    responsiveItemCount: responsiveItemCount(responsive),\r\n  });\r\n\r\n  const currentPosition = getTranslate3d(sliderItems);\r\n\r\n  setIndex(calcIndex);\r\n\r\n  if (\r\n    (!infinite &&\r\n      calcIndex > slidesLength &&\r\n      calcIndex < slidesLength + perSlide) ||\r\n    (infinite && calcIndex + perSlide === perSlide)\r\n  ) {\r\n    sliderItems.style.transform = setTranslate3d(finalItemPosition);\r\n  }\r\n\r\n  if (!infinite && nav) {\r\n    prevBlock(slider);\r\n    nextBlock(slider);\r\n  }\r\n\r\n  if (!infinite && calcIndex === slidesLength + perSlide) {\r\n    sliderItems.style.transform = setTranslate3d(\r\n      getPosFinal() - sliderItems.children[0].clientWidth\r\n    );\r\n  }\r\n\r\n  if (\r\n    (!infinite &&\r\n      getTranslate3d(sliderItems) <= thresholdNew() &&\r\n      getTranslate3d(sliderItems) >= 0) ||\r\n    (rtl && getTranslate3d(sliderItems) <= 0)\r\n  ) {\r\n    sliderItems.style.transform = setTranslate3d(0);\r\n    if (nav) {\r\n      prevNone(slider);\r\n      nextBlock(slider);\r\n    }\r\n  }\r\n\r\n  if (!infinite && !rtl && getTranslate3d(sliderItems) <= finalItemPosition) {\r\n    sliderItems.style.transform = setTranslate3d(finalItemPosition);\r\n    if (nav) {\r\n      nextNone(slider);\r\n      prevBlock(slider);\r\n    }\r\n  }\r\n\r\n  if (!infinite && rtl && getTranslate3d(sliderItems) >= finalItemPosition) {\r\n    sliderItems.style.transform = setTranslate3d(finalItemPosition);\r\n    if (nav) {\r\n      nextNone(slider);\r\n      prevBlock(slider);\r\n    }\r\n  }\r\n\r\n  if (\r\n    !infinite &&\r\n    Math.abs(currentPosition) < Math.abs(finalItemPosition) &&\r\n    currentPosition > 0 &&\r\n    startTrans !== currentPosition &&\r\n    !freeScroll &&\r\n    !autoWidth\r\n  ) {\r\n    addClassToElement({\r\n      item: sliderItems,\r\n      className: \"soft-transition\",\r\n    });\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: -sliderItemWidth * calcIndex,\r\n    });\r\n    sliderItems.style.transform = setTranslate3d(result);\r\n    setTimeout(() => {\r\n      removeClassFromElement({\r\n        item: sliderItems,\r\n        className: \"soft-transition\",\r\n      });\r\n    }, 300);\r\n  }\r\n\r\n  mouseEventNull();\r\n  transitionendWatcherCall();\r\n};\r\n","import { dragAction, dragEnd, dragStart } from \"./partial\";\r\nimport { getTranslate3d } from \"../utils\";\r\n\r\nexport default class DragEvent {\r\n  constructor(params) {\r\n    const { core } = params;\r\n    this.setCore(core);\r\n    this.initialize();\r\n  }\r\n\r\n  setCore(core) {\r\n    this.core = core;\r\n  }\r\n\r\n  getCore() {\r\n    return this.core;\r\n  }\r\n\r\n  initialize() {\r\n    const {\r\n      config: { responsive, threshold, rtl, nav, autoWidth, freeScroll },\r\n      getDrag,\r\n      getInfinite,\r\n      getSliderItems,\r\n      setPosInitial,\r\n      setPosX1,\r\n      getPosX1,\r\n      setPosX2,\r\n      getPosX2,\r\n      getSlider,\r\n      getPerSlide,\r\n      getSlidesLength,\r\n      getIndex,\r\n      getSlideSize,\r\n      getSliderMainWidth,\r\n      getSliderItemWidth,\r\n      setIndex,\r\n      setPosFinal,\r\n      getPosFinal,\r\n      setAllowShift,\r\n      transitionendWatcherCall,\r\n    } = this.core;\r\n\r\n    const infinite = getInfinite();\r\n    const sliderItems = getSliderItems();\r\n    const drag = getDrag();\r\n    let startTrans = null;\r\n\r\n    const dragEndCall = () => {\r\n      const dragStartParams = {\r\n        sliderItems: getSliderItems(),\r\n        slidesLength: getSlidesLength(),\r\n        slideSize: getSlideSize(),\r\n        sliderMainWidth: getSliderMainWidth(),\r\n        slider: getSlider(),\r\n        posFinal: getPosFinal(),\r\n        threshold,\r\n        responsive,\r\n        infinite,\r\n        rtl,\r\n        nav,\r\n        autoWidth,\r\n        setIndex,\r\n        setPosFinal,\r\n        transitionendWatcherCall,\r\n        dragAction,\r\n        drag,\r\n        setPosInitial,\r\n        setPosX1,\r\n        setAllowShift,\r\n        index: getIndex(),\r\n        sliderItemWidth: getSliderItemWidth(),\r\n        freeScroll,\r\n        startTrans,\r\n      };\r\n      dragEnd(dragStartParams);\r\n    };\r\n\r\n    const dragActionCall = (e) => {\r\n      const dragActionParams = {\r\n        e,\r\n        getPosX1,\r\n        setPosX1,\r\n        setPosX2,\r\n        setPosInitial,\r\n        getSliderItems,\r\n        threshold,\r\n        rtl,\r\n        autoWidth,\r\n        getPosX2,\r\n        getSlidesLength,\r\n        getPerSlide,\r\n        responsive,\r\n        getSlider,\r\n        infinite,\r\n        getSlideSize,\r\n        getSliderMainWidth,\r\n      };\r\n      dragAction(dragActionParams);\r\n    };\r\n\r\n    const dragStartCall = (e) => {\r\n      const dragStartParams = {\r\n        e,\r\n        sliderItems,\r\n        setPosInitial,\r\n        setPosX1,\r\n        dragEndCall,\r\n        dragActionCall,\r\n        sliderMainWidth: getSliderMainWidth(),\r\n        rtl,\r\n        autoWidth,\r\n      };\r\n      startTrans = getTranslate3d(sliderItems);\r\n      dragStart(dragStartParams);\r\n    };\r\n\r\n    // Mouse events\r\n    sliderItems.addEventListener(\"mousedown\", dragStartCall);\r\n\r\n    // Touch events\r\n    let supportsPassive = false;\r\n    try {\r\n      const opts = Object.defineProperty({}, \"passive\", {\r\n        // eslint-disable-next-line getter-return\r\n        get() {\r\n          supportsPassive = true;\r\n        },\r\n      });\r\n      window.addEventListener(\"testPassive\", null, opts);\r\n      window.removeEventListener(\"testPassive\", null, opts);\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n\r\n    sliderItems.addEventListener(\r\n      \"touchstart\",\r\n      dragStartCall,\r\n      supportsPassive ? { passive: true } : false\r\n    );\r\n    sliderItems.addEventListener(\"touchend\", dragEndCall);\r\n    sliderItems.addEventListener(\"touchmove\", dragActionCall);\r\n  }\r\n}\r\n","import {\r\n  calcSliderChildWidth,\r\n  responsiveItemCount,\r\n  truncResponsiveItemCount,\r\n  switchInfiniteResponsiveCount,\r\n  transitionendWatcher,\r\n  elementCreator,\r\n  childFider,\r\n  prevNone,\r\n  nextNone,\r\n  addClassToElement,\r\n  vdomArrayConvertor,\r\n  removeAllChildren,\r\n  infiniteChecker,\r\n  dragChecker,\r\n  calcAutoWidthAllSliderItems,\r\n  setTranslate3d,\r\n  directionSetter,\r\n  calcFinalItemPosition,\r\n} from \"./utils\";\r\n\r\nimport { shiftSlideIsDir } from \"./sliderArrows/partial\";\r\nimport SliderDots from \"./sliderDots/index\";\r\nimport SliderTrailer from \"./slideTrailer/index\";\r\nimport SliderArrows from \"./sliderArrows/index\";\r\nimport DragEvent from \"./dragEvent/index\";\r\n\r\nclass SliderCore {\r\n  constructor(config) {\r\n    this.setConfig(config);\r\n    this.initialize();\r\n  }\r\n\r\n  setConfig = (customConfig) => {\r\n    const {\r\n      slider,\r\n      infinite = false,\r\n      horizontal = \"default\",\r\n      responsive = {\r\n        0: {\r\n          items: 1,\r\n        },\r\n      },\r\n      prevArrow = null,\r\n      nextArrow = null,\r\n      customArrow = false,\r\n      nav = false,\r\n      dots = false,\r\n      autoPlay = false,\r\n      rtl = false,\r\n      drag = true,\r\n      autoWidth = false,\r\n      nextSpeed = 2000,\r\n      threshold = 50,\r\n      freeScroll = false,\r\n      paginationWrapper = null,\r\n      callBack = () => {},\r\n      beforeChange = () => {},\r\n    } = customConfig;\r\n    this.config = {\r\n      slider,\r\n      infinite,\r\n      responsive,\r\n      prevArrow,\r\n      nextArrow,\r\n      customArrow,\r\n      nav,\r\n      dots,\r\n      autoPlay,\r\n      rtl,\r\n      drag,\r\n      autoWidth,\r\n      nextSpeed,\r\n      threshold,\r\n      horizontal,\r\n      freeScroll,\r\n      callBack,\r\n      paginationWrapper,\r\n      beforeChange,\r\n    };\r\n  };\r\n\r\n  getConfig = () => this.config;\r\n\r\n  setSlider = (slider) => {\r\n    this.slider = slider;\r\n  };\r\n\r\n  getSlider = () => this.slider;\r\n\r\n  setPosX1 = (posX1) => {\r\n    this.posX1 = posX1;\r\n  };\r\n\r\n  getPosX1 = () => this.posX1;\r\n\r\n  setIntervalId = (intervalId) => {\r\n    this.intervalId = intervalId;\r\n  };\r\n\r\n  getIntervalId = () => this.intervalId;\r\n\r\n  setInfinite = (infinite) => {\r\n    this.infinite = infinite;\r\n  };\r\n\r\n  getInfinite = () => this.infinite;\r\n\r\n  setDrag = (drag) => {\r\n    this.drag = drag;\r\n  };\r\n\r\n  getDrag = () => this.drag;\r\n\r\n  setPosX2 = (posX2) => {\r\n    this.posX2 = posX2;\r\n  };\r\n\r\n  getPosX2 = () => this.posX2;\r\n\r\n  setPerSlide = (perSlide) => {\r\n    this.perSlide = perSlide;\r\n  };\r\n\r\n  getPerSlide = () => this.perSlide;\r\n\r\n  setSliderItems = (sliderItems) => {\r\n    this.sliderItems = sliderItems;\r\n  };\r\n\r\n  getSliderItems = () => this.sliderItems;\r\n\r\n  setPosInitial = (posInitial) => {\r\n    this.posInitial = posInitial;\r\n  };\r\n\r\n  getPosInitial = () => this.posInitial;\r\n\r\n  setPosFinal = (posFinal) => {\r\n    this.posFinal = posFinal;\r\n  };\r\n\r\n  getPosFinal = () => this.posFinal;\r\n\r\n  setSlidesLength = (slidesLength) => {\r\n    this.slidesLength = slidesLength;\r\n  };\r\n\r\n  getSlidesLength = () => this.slidesLength;\r\n\r\n  setSliderMainWidth = (sliderMainWidth) => {\r\n    this.sliderMainWidth = sliderMainWidth;\r\n  };\r\n\r\n  getSliderMainWidth = () => this.sliderMainWidth;\r\n\r\n  setOrginSlider = (orginSlider) => {\r\n    this.orginSlider = orginSlider;\r\n  };\r\n\r\n  getOrginSlider = () => this.orginSlider;\r\n\r\n  setSlideSize = (slideSize) => {\r\n    this.slideSize = slideSize;\r\n  };\r\n\r\n  getSlideSize = () => this.slideSize;\r\n\r\n  setSliderItemWidth = (sliderItemWidth) => {\r\n    this.sliderItemWidth = sliderItemWidth;\r\n  };\r\n\r\n  getSliderItemWidth = () => this.sliderItemWidth;\r\n\r\n  setIndex = (index) => {\r\n    this.index = index;\r\n  };\r\n\r\n  getIndex = () => this.index;\r\n\r\n  setAllowShift = (allowShift) => {\r\n    this.allowShift = allowShift;\r\n  };\r\n\r\n  getAllowShift = () => this.allowShift;\r\n\r\n  initialize = () => {\r\n    const {\r\n      slider,\r\n      infinite,\r\n      responsive,\r\n      nav,\r\n      dots,\r\n      autoPlay,\r\n      rtl,\r\n      drag,\r\n      nextSpeed,\r\n      customArrow,\r\n      autoWidth,\r\n      horizontal,\r\n      paginationWrapper,\r\n    } = this.getConfig();\r\n\r\n    // reset Slider\r\n    const mainSlider = slider;\r\n    const mainSliderClone = mainSlider.cloneNode(true);\r\n    this.setSlider(mainSliderClone);\r\n    removeAllChildren({\r\n      wrapper: slider,\r\n      className: \"clone\",\r\n    });\r\n\r\n    // ----------- start init variables  -----\r\n    this.setSlider(slider);\r\n\r\n    const sliderClienWidth = this.getSlider().getBoundingClientRect().width;\r\n    this.setSliderMainWidth(sliderClienWidth);\r\n\r\n    const sliderSlidesSelector = childFider({\r\n      wrapper: slider,\r\n      className: \".slides\",\r\n    });\r\n    this.setSliderItems(sliderSlidesSelector);\r\n\r\n    const sliderChildWidth = calcSliderChildWidth({\r\n      responsiveItemCount: responsiveItemCount(responsive),\r\n      slider: this.getSlider(),\r\n    });\r\n    this.setSlideSize(sliderChildWidth);\r\n\r\n    const sliderItemWidth = calcSliderChildWidth({\r\n      responsiveItemCount: responsiveItemCount(responsive),\r\n      slider: this.getSlider(),\r\n    });\r\n    this.setSliderItemWidth(sliderItemWidth);\r\n\r\n    // init slider for start\r\n    const slides = vdomArrayConvertor(sliderSlidesSelector.children);\r\n    const sliderLength = slides.length;\r\n    this.setSlidesLength(sliderLength);\r\n\r\n    const perSlide = switchInfiniteResponsiveCount(\r\n      truncResponsiveItemCount(responsive),\r\n      infinite\r\n    );\r\n\r\n    this.setPerSlide(perSlide);\r\n\r\n    const infCheck = infiniteChecker({\r\n      infinite,\r\n      perSlide,\r\n      sliderLength,\r\n    });\r\n    this.setInfinite(infCheck);\r\n\r\n    const dragCheck = dragChecker({\r\n      drag,\r\n      perSlide: truncResponsiveItemCount(responsive),\r\n      sliderLength,\r\n    });\r\n\r\n    this.setDrag(dragCheck);\r\n\r\n    // set init index\r\n    if (infCheck) {\r\n      this.setIndex(perSlide + 1);\r\n    } else {\r\n      this.setIndex(0);\r\n    }\r\n\r\n    if (rtl) {\r\n      const classItemParams = {\r\n        item: slider,\r\n        className: \"slider-rtl\",\r\n      };\r\n      addClassToElement(classItemParams);\r\n    }\r\n\r\n    if (nav) {\r\n      if (!customArrow) {\r\n        elementCreator({\r\n          tag: \"Span\",\r\n          wrapper: slider,\r\n          className: \"control next\",\r\n        });\r\n        elementCreator({\r\n          tag: \"Span\",\r\n          wrapper: slider,\r\n          className: \"control prev\",\r\n        });\r\n      }\r\n      this.sliderArrows = new SliderArrows({ core: this });\r\n      const index = this.getIndex();\r\n      if (\r\n        sliderLength <= truncResponsiveItemCount(responsive) ||\r\n        (autoWidth &&\r\n          calcAutoWidthAllSliderItems(this.sliderItems) <= this.sliderMainWidth)\r\n      ) {\r\n        prevNone(slider);\r\n        nextNone(slider);\r\n      }\r\n      if (!infCheck) {\r\n        if (index === 0) {\r\n          prevNone(slider);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (dots || (paginationWrapper && paginationWrapper.current)) {\r\n      if (dots) {\r\n        elementCreator({ tag: \"Ul\", wrapper: slider, className: \"dots\" });\r\n      }\r\n      this.sliderDots = new SliderDots({ core: this });\r\n    }\r\n\r\n    if (autoPlay) {\r\n      let isIntervalRunning = false;\r\n      const time = nextSpeed || 2000;\r\n      const intervalNext = () => {\r\n        isIntervalRunning = true;\r\n        this.next();\r\n      };\r\n      const intervalPlay = () => {\r\n        clearInterval(this.getIntervalId()); // Clearing interval if for some reason it has not been cleared yet\r\n        if (!isIntervalRunning) {\r\n          this.setIntervalId(setInterval(intervalNext, time));\r\n        }\r\n      };\r\n      const intervalPause = () => {\r\n        clearInterval(this.getIntervalId()); // Clearing interval on window blur\r\n        isIntervalRunning = false;\r\n      };\r\n      // toggle on mouseHover\r\n      slider.addEventListener(\"touchstart\", intervalPause);\r\n      slider.addEventListener(\"touchmove\", intervalPause);\r\n      slider.addEventListener(\"mouseover\", intervalPause);\r\n      slider.addEventListener(\"mouseout\", intervalPlay);\r\n      // toggle on blur and focus browser window tab\r\n      window.addEventListener(\"blur\", intervalPause);\r\n      window.addEventListener(\"focus\", intervalPlay);\r\n      if (!this.getIntervalId()) {\r\n        intervalPlay();\r\n      }\r\n    }\r\n\r\n    this.sliderTrailer = new SliderTrailer({ core: this });\r\n\r\n    // action drag event\r\n    this.dragEvent = new DragEvent({ core: this });\r\n\r\n    sliderSlidesSelector.addEventListener(\"transitionend\", (e) => {\r\n      if (e.target !== sliderSlidesSelector) return;\r\n      this.transitionendWatcherCall();\r\n    });\r\n\r\n    // active center mode\r\n    if (\r\n      horizontal === \"center\" &&\r\n      sliderLength < truncResponsiveItemCount(responsive)\r\n    ) {\r\n      const freeItems = truncResponsiveItemCount(responsive) - sliderLength;\r\n      const freeSpace = directionSetter({\r\n        rtl,\r\n        input: (freeItems * sliderItemWidth) / 2,\r\n      });\r\n      this.sliderItems.style.transform = setTranslate3d(freeSpace);\r\n    }\r\n\r\n    this.windowResizeWatcher();\r\n  };\r\n\r\n  goToShowingSlide(newPosition) {\r\n    const {\r\n      config: { responsive, rtl, infinite, slider, nav, autoWidth },\r\n      getSliderItems,\r\n      transitionendWatcherCall,\r\n      getSliderItemWidth,\r\n      setIndex,\r\n      setPosInitial,\r\n      getSlidesLength,\r\n      slideSize,\r\n      sliderMainWidth,\r\n      perSlide,\r\n    } = this;\r\n\r\n    if (getSlidesLength() <= responsiveItemCount(responsive)) {\r\n      return false;\r\n    }\r\n    const sliderItems = getSliderItems();\r\n    const newIndex = infinite\r\n      ? newPosition + responsiveItemCount(responsive) + 1\r\n      : newPosition;\r\n    const result = directionSetter({\r\n      rtl,\r\n      input: -getSliderItemWidth() * newIndex,\r\n    });\r\n\r\n    const finalItemPosition = calcFinalItemPosition({\r\n      indexItem: newIndex,\r\n      slideSize,\r\n      sliderItems,\r\n      sliderMainWidth,\r\n      perSlide,\r\n      slidesLength: getSlidesLength(),\r\n      infinite,\r\n      slider,\r\n      nav,\r\n      rtl,\r\n      autoWidth,\r\n    });\r\n\r\n    if (Math.abs(result) < Math.abs(finalItemPosition)) {\r\n      sliderItems.style.transform = setTranslate3d(result);\r\n      setIndex(newIndex);\r\n      setPosInitial(result);\r\n\r\n      setTimeout(() => {\r\n        transitionendWatcherCall();\r\n      }, 0);\r\n      return newIndex;\r\n    }\r\n    sliderItems.style.transform = setTranslate3d(-finalItemPosition);\r\n    setIndex(newIndex);\r\n    setPosInitial(-finalItemPosition);\r\n    setTimeout(() => {\r\n      transitionendWatcherCall();\r\n    }, 0);\r\n    return newIndex;\r\n  }\r\n\r\n  refresh(flag) {\r\n    if (flag) {\r\n      this.initialize();\r\n    }\r\n  }\r\n\r\n  next() {\r\n    const {\r\n      sliderItems,\r\n      index,\r\n      perSlide,\r\n      slideSize,\r\n      slidesLength,\r\n      sliderMainWidth,\r\n      getInfinite,\r\n      config: { slider, responsive, rtl, autoWidth },\r\n    } = this;\r\n    const classItemParams = {\r\n      item: childFider({\r\n        wrapper: slider,\r\n        className: \".slides\",\r\n      }),\r\n      className: \"shifting\",\r\n    };\r\n    addClassToElement(classItemParams);\r\n    this.setIndex(\r\n      shiftSlideIsDir({\r\n        sliderItems,\r\n        index,\r\n        perSlide,\r\n        slideSize,\r\n        slidesLength,\r\n        sliderMainWidth,\r\n        responsiveItem: responsiveItemCount(responsive),\r\n        infinite: getInfinite(),\r\n        slider,\r\n        rtl,\r\n        autoWidth,\r\n      })\r\n    );\r\n  }\r\n\r\n  transitionendWatcherCall = () => {\r\n    const {\r\n      config: {\r\n        slider,\r\n        responsive,\r\n        dots,\r\n        nav,\r\n        rtl,\r\n        autoWidth,\r\n        infinite,\r\n        freeScroll,\r\n        callBack,\r\n        beforeChange,\r\n      },\r\n      index,\r\n      sliderItems,\r\n      slideSize,\r\n      sliderMainWidth,\r\n      slidesLength,\r\n      sliderItemWidth,\r\n      setIndex,\r\n      setAllowShift,\r\n    } = this;\r\n    transitionendWatcher({\r\n      responsive,\r\n      infinite,\r\n      slider,\r\n      rtl,\r\n      index,\r\n      sliderItems,\r\n      slideSize,\r\n      sliderMainWidth,\r\n      dots,\r\n      slidesLength,\r\n      sliderItemWidth,\r\n      nav,\r\n      autoWidth,\r\n      freeScroll,\r\n      setAllowShift,\r\n      setIndex,\r\n      callBack,\r\n      beforeChange,\r\n    });\r\n  };\r\n\r\n  windowResizeWatcher = () => {\r\n    let resizeTimer;\r\n    window.onresize = () => {\r\n      clearTimeout(resizeTimer);\r\n      resizeTimer = setTimeout(() => {\r\n        this.initialize();\r\n      }, 250);\r\n    };\r\n  };\r\n}\r\n\r\nexport default SliderCore;\r\n"],"names":["addClassToElement","params","item","className","classList","add","removeClassFromElement","remove","isFloat","n","Number","calcCurrentIndex","sliderItems","infinite","perSlide","slideSize","sliderMainWidth","slidesLength","freeScroll","autoWidth","responsiveItemCount","getIndex","getTranslate3d","vdomArrayConvertor","children","clientWidth","Math","round","abs","scroll","trunc","setActiveclassToCurrent","activeIndex","activeItems","Array","keys","forEach","push","itemIndex","classItemParams","includes","sliderClientWidth","slider","truncResponsiveItemCount","responsive","calcFinalItemPosition","calcFinalWidthAutoWidth","calcFinalWithoutAutoWidth","calcAutoWidthAllSliderItems","infiniteSlideLength","box","cost","finalResult","calcFirstItemPosition","infiSwitchSlideSize","calcSliderGroupCount","ceil","calcSliderChildWidth","setSliderItemsChildWidth","child","newChild","style","width","allChildWidth","offsetWidth","setSliderItemsPosition","indexItem","sliderItemWidth","rtl","result","directionSetter","input","transform","setTranslate3d","getValue","values","match","length","parseFloat","sorter","a","b","getConfig","resp","Object","map","el","parseInt","newResp","sort","filter","document","body","pop","items","switchInfiniteResponsiveCount","itemCont","prevNone","childFind","childFider","wrapper","display","prevBlock","nextNone","nextBlock","transitionendWatcher","index","setAllowShift","dots","nav","setIndex","callBack","beforeChange","calcIndex","finalPos","finalConst","firstConst","translate3dConst","showNext","showPrev","dotActive","dotsSelector","dotConvertor","currentDot","dotIndex","activeChecker","elementCreator","tag","removeAllChildren","node","createElement","appendChild","querySelector","newClassName","split","findElements","querySelectorAll","activeChild","contains","dataset","page","isArrayCheck","isArray","infiniteChecker","sliderLength","dragChecker","drag","shiftSlideIsDir","responsiveItem","FinalItemPosition","shiftSlideIsDirAutoWidth","newIndex","shiftSlideNonDir","firstItemPosition","shiftSlideNonDirAutoWidth","infinitperSlide","infiniteIndex","dotsItemsGenerator","i","innerHTML","dotsItemsClick","getSliderItems","setSliderItemsPositionAfterDotClick","isActive","allowShift","itemClassParams","posInitial","finalItemPosition","AfterDotClickAutoWidth","newItemIndex","SliderDots","core","setCore","initialize","config","paginationWrapper","getInfinite","getSlidesLength","getSliderItemWidth","getSliderMainWidth","getSlider","getSlideSize","setPosInitial","current","dotsItemsParams","addEventListener","getAttribute","dotsItemsClickParams","setPageNumberOnChild","newArrChild","setAttribute","addCloneClass","cloneNodeGenerator","sliderItemsChildren","deepCloneSliderItemsChildren","cloneNodeParams","cloneNodeAppendChild","cloneNodeInsertBefore","element","cln","cloneNode","itemsChildrenLength","insertBefore","SliderTrailer","getPerSlide","cloneNodeGeneratorParams","SliderArrows","prevSelector","nextSelector","shiftSlide","dir","action","getAllowShift","shiftSlideParams","directionTouchClientX","e","touches","clientX","caroueslTouchStart","dragActionTouchmovePosX2","posX1","dragActionTouchmovePosX1","directionClientX","caroueslDragStart","dragEndCall","dragActionCall","onmouseup","onmousemove","dragActionMousemove","dragActionMousemovePosX1","dragActionCalcPosition","posX2","threshold","posX2New","thresholdNew","sliderItemWidthNew","firstTolastDrag","lastToFirstDrag","mouseEventNull","dragStart","setPosX1","window","event","type","preventDefault","dragActionParams","dragAction","getPosX1","setPosX2","getPosX2","clientXParams","startAvoidClicks","Posx","dragActionTouchmovePosX2Params","dragActionMousemoveParams","dragActionCalcPositionParams","dragEnd","transitionendWatcherCall","setPosFinal","getPosFinal","startTrans","currentPosition","setTimeout","DragEvent","getDrag","dragStartParams","posFinal","dragStartCall","supportsPassive","opts","defineProperty","get","removeEventListener","passive","SliderCore","customConfig","horizontal","prevArrow","nextArrow","customArrow","autoPlay","nextSpeed","intervalId","orginSlider","mainSlider","mainSliderClone","setSlider","sliderClienWidth","getBoundingClientRect","setSliderMainWidth","sliderSlidesSelector","setSliderItems","sliderChildWidth","setSlideSize","setSliderItemWidth","slides","setSlidesLength","setPerSlide","infCheck","setInfinite","dragCheck","setDrag","sliderArrows","sliderDots","isIntervalRunning","time","intervalNext","next","intervalPlay","clearInterval","getIntervalId","setIntervalId","setInterval","intervalPause","sliderTrailer","dragEvent","target","freeItems","freeSpace","windowResizeWatcher","resizeTimer","onresize","clearTimeout","setConfig","newPosition","flag"],"mappings":"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"}